\hypertarget{classcom_1_1logistics_1_1snowapi_1_1service_1_1NWSDataService}{}\doxysection{com.\+logistics.\+snowapi.\+service.\+NWSData\+Service Class Reference}
\label{classcom_1_1logistics_1_1snowapi_1_1service_1_1NWSDataService}\index{com.logistics.snowapi.service.NWSDataService@{com.logistics.snowapi.service.NWSDataService}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcom_1_1logistics_1_1snowapi_1_1service_1_1NWSDataService_ac61106306464019dd01596fdffdfe330}{NWSData\+Service}} (Rest\+Template\+Builder rest\+Template\+Builder, Object\+Mapper object\+Mapper, \mbox{\hyperlink{classcom_1_1logistics_1_1snowapi_1_1service_1_1AlertService}{Alert\+Service}} alert\+Service, \mbox{\hyperlink{classcom_1_1logistics_1_1snowapi_1_1service_1_1UgcZoneScraper}{Ugc\+Zone\+Scraper}} ugc\+Zone\+Scraper)
\item 
void \mbox{\hyperlink{classcom_1_1logistics_1_1snowapi_1_1service_1_1NWSDataService_a85fdf15a5752a2b8d0b8763874779f15}{fetch\+Weather\+Data}} ()
\begin{DoxyCompactList}\small\item\em Scheduled task that periodically fetches weather data from the National Weather Service (NWS) API every 60 seconds. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 20 of file NWSData\+Service.\+java.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcom_1_1logistics_1_1snowapi_1_1service_1_1NWSDataService_ac61106306464019dd01596fdffdfe330}\label{classcom_1_1logistics_1_1snowapi_1_1service_1_1NWSDataService_ac61106306464019dd01596fdffdfe330}} 
\index{com.logistics.snowapi.service.NWSDataService@{com.logistics.snowapi.service.NWSDataService}!NWSDataService@{NWSDataService}}
\index{NWSDataService@{NWSDataService}!com.logistics.snowapi.service.NWSDataService@{com.logistics.snowapi.service.NWSDataService}}
\doxysubsubsection{\texorpdfstring{NWSDataService()}{NWSDataService()}}
{\footnotesize\ttfamily com.\+logistics.\+snowapi.\+service.\+NWSData\+Service.\+NWSData\+Service (\begin{DoxyParamCaption}\item[{Rest\+Template\+Builder}]{rest\+Template\+Builder,  }\item[{Object\+Mapper}]{object\+Mapper,  }\item[{\mbox{\hyperlink{classcom_1_1logistics_1_1snowapi_1_1service_1_1AlertService}{Alert\+Service}}}]{alert\+Service,  }\item[{\mbox{\hyperlink{classcom_1_1logistics_1_1snowapi_1_1service_1_1UgcZoneScraper}{Ugc\+Zone\+Scraper}}}]{ugc\+Zone\+Scraper }\end{DoxyParamCaption})}



Definition at line 30 of file NWSData\+Service.\+java.


\begin{DoxyCode}{0}
\DoxyCodeLine{30                                                                                                                                                         \{}
\DoxyCodeLine{31         this.restTemplate = restTemplateBuilder.build();}
\DoxyCodeLine{32         this.objectMapper = objectMapper;}
\DoxyCodeLine{33         this.alertService = alertService;}
\DoxyCodeLine{34         this.ugcZoneScraper = ugcZoneScraper;}
\DoxyCodeLine{35     \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcom_1_1logistics_1_1snowapi_1_1service_1_1NWSDataService_a85fdf15a5752a2b8d0b8763874779f15}\label{classcom_1_1logistics_1_1snowapi_1_1service_1_1NWSDataService_a85fdf15a5752a2b8d0b8763874779f15}} 
\index{com.logistics.snowapi.service.NWSDataService@{com.logistics.snowapi.service.NWSDataService}!fetchWeatherData@{fetchWeatherData}}
\index{fetchWeatherData@{fetchWeatherData}!com.logistics.snowapi.service.NWSDataService@{com.logistics.snowapi.service.NWSDataService}}
\doxysubsubsection{\texorpdfstring{fetchWeatherData()}{fetchWeatherData()}}
{\footnotesize\ttfamily void com.\+logistics.\+snowapi.\+service.\+NWSData\+Service.\+fetch\+Weather\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Scheduled task that periodically fetches weather data from the National Weather Service (NWS) API every 60 seconds. 

This method performs an HTTP GET request to the specified NWS API endpoint, retrieves weather alert data in Geo\+JSON format, and then maps this data to a \mbox{\hyperlink{}{Geo\+Json\+Response}} object. The mapped data is subsequently processed to extract individual alerts and their related information, which are then persisted in the database. 

This method is annotated with
\begin{DoxyCode}{0}
\DoxyCodeLine{@Scheduled }

\end{DoxyCode}
 , indicating that it is automatically run by the Spring framework at fixed intervals (every 60 seconds in this case), making it a self-\/contained scheduled task for weather data retrieval. 

Definition at line 47 of file NWSData\+Service.\+java.


\begin{DoxyCode}{0}
\DoxyCodeLine{47                                    \{}
\DoxyCodeLine{48         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{49             \textcolor{comment}{// GET request from NWS api}}
\DoxyCodeLine{50             ResponseEntity<String> response = restTemplate.getForEntity(url, String.class);}
\DoxyCodeLine{51             \textcolor{comment}{// Maps the response into a POJO containing all the alert data.}}
\DoxyCodeLine{52             GeoJsonResponse geoJsonResponse = objectMapper.readValue(response.getBody(), GeoJsonResponse.class);}
\DoxyCodeLine{53             processGeoJsonResponse(geoJsonResponse);}
\DoxyCodeLine{54         \}}
\DoxyCodeLine{55         \textcolor{keywordflow}{catch} (RestClientException e) \{}
\DoxyCodeLine{56             System.out.printf(\textcolor{stringliteral}{"{}Failed to reach address: \%s, Error: \%s\(\backslash\)n"{}}, url, e.getMessage());}
\DoxyCodeLine{57             e.printStackTrace();}
\DoxyCodeLine{58         \}}
\DoxyCodeLine{59         \textcolor{keywordflow}{catch} (IOException e) \{}
\DoxyCodeLine{60             System.out.printf(\textcolor{stringliteral}{"{}Failed to parse response for address: \%s\(\backslash\)n"{}}, url);}
\DoxyCodeLine{61             e.printStackTrace();}
\DoxyCodeLine{62         \}}
\DoxyCodeLine{63     \}}

\end{DoxyCode}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/main/java/com/logistics/snowapi/service/\mbox{\hyperlink{NWSDataService_8java}{NWSData\+Service.\+java}}\end{DoxyCompactItemize}
